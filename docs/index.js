document.getElementsByClassName("reset-button")[0].onclick=()=>{a.randomize_state()};const t=await(await fetch("./cgol.wasm")).arrayBuffer(),{instance:e}=await WebAssembly.instantiate(t,{}),a=e.exports,i=document.getElementById("canvas"),n=i.getContext("2d"),h=document.createElement("canvas"),d=h.getContext("2d");let s=d.createImageData(h.width,h.height);function g(){i.width=window.innerWidth,i.height=window.innerHeight,n.imageSmoothingEnabled=!1,a.resize_state(i.width/4,i.height/4,Date.now()),h.width=a.get_state_width(),h.height=a.get_state_height(),s=d.createImageData(h.width,h.height)}window.addEventListener("resize",g),g();const o=()=>{a.update_state();const t=new Uint8ClampedArray(a.memory.buffer,a.get_state_data(),h.width*h.height*4);s.data.set(t),d.putImageData(s,0,0),n.drawImage(h,0,0,i.width,i.height),requestAnimationFrame(o)};o();